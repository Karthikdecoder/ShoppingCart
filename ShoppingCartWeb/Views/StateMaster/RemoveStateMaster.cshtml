@model ShoppingCartWeb.Models.Dto.StateMasterDTO

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br />
<form asp-action="RemoveStateMaster">
    <div class="container border p-3">
        <h1 class="text-dark">Remove State</h1>
        <hr />
        <input hidden asp-for="StateId" />
        <div class="row">

            <div class="col-2">
                <label asp-for="StateId" class="control-label pt-2" style="font-size:20px;">Id</label>
            </div>
            <div class="col-10 pb-3">
                <input asp-for="StateId" disabled class="form-control" />
            </div>

            <div class="col-2">
                <label asp-for="StateName" class="control-label pt-2" style="font-size:20px;">State</label>
            </div>
            <div class="col-10 pb-3">
                <input asp-for="StateName" disabled class="form-control" />
            </div>

            <div class="col-5 offset-2">
                <a asp-action="IndexStateMaster" asp-controller="StateMaster" class="btn-primary btn form-control ">Cancel</a>
            </div>
            <div class="col-5">
                <input type="submit" value="Delete" class="btn btn-danger form-control" />
            </div>
        </div>
    </div>
</form>


<!-- Your view content here -->
@section Scripts
    {
    <partial name="_ValidationScriptsPartial" />

    <script>
        $(document).ready(function () {
            $(".delete-button").on("click", function (e) {
                e.preventDefault();
                var registerId = $(this).data("stateId");
                Swal.fire({
                    title: 'Confirm Deletion',
                    text: 'Are you sure you want to delete this user?',
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#d33',
                    cancelButtonColor: '#3085d6',
                    confirmButtonText: 'Delete',
                    cancelButtonText: 'Cancel'
                }).then((result) => {
                    if (result.isConfirmed) {
                        jQuery.ajax({
                            type: "POST",
                            url: '@Url.Action("RemoveStateMaster", "StateMaster")',
                            data: { id: $(this).data("stateId") },
                            dataType: 'json',
                            success: function (data) {
                                location.reload(true);
                            },
                            error: function () {
                                location.reload(true);
                            }
                        });
                    }
                });
            });
        });
    </script>
}
